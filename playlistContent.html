<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="fonts/iconfont.css" />
		<script src="js/mui.min.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			html,
			body {
				max-height: 100%;
				overflow: hidden;
			}
			
			.mui-table-view-cell:after {
				left: 40px;
			}
			
			.mui-table-view-cell {
				padding: 11px 40px;
			}
			
			.mui-table-view-cell>a:not(.mui-btn) {
				margin: -11px -40px;
			}
			
			.mui-table-view-cell .playlist-index {
				position: absolute;
				left: 15px;
				top: 23px;
				font-size: 16px;
				color: #AAA;
			}
			
			.mui-table-view-cell h4,
			.mui-table-view-cell p {
				overflow: hidden;
				text-overflow: ellipsis;
			}
			
			.mui-table-view-cell h4 {
				font-size: 14px;
			}
			
			.mui-table-view-cell p {
				font-size: 12px;
			}
			
			.playlist-wrap .mui-navigate-right:after,
			.mui-push-right:after {
				content: none;
			}
			
			.playlist-wrap .menu-btn {
				position: absolute;
				top: 25px;
				right: 10px;
			}
			
			.animated {
				-webkit-animation-duration: 0.5s;
				animation-duration: 0.5s;
				-webkit-animation-fill-mode: both;
				animation-fill-mode: both;
			}
			
			@-webkit-keyframes bounceInDown {
				0%,
				60%,
				75%,
				90%,
				100% {
					-webkit-transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
					transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
				}
				0% {
					opacity: 0;
					-webkit-transform: translate3d(0, 100%, 0);
					transform: translate3d(0, 100%, 0);
				}
				60% {
					opacity: 1;
					-webkit-transform: translate3d(0, 25px, 0);
					transform: translate3d(0, 25px, 0);
				}
				75% {
					-webkit-transform: translate3d(0, -10px, 0);
					transform: translate3d(0, -10px, 0);
				}
				90% {
					-webkit-transform: translate3d(0, 5px, 0);
					transform: translate3d(0, 5px, 0);
				}
				100% {
					-webkit-transform: none;
					transform: none;
				}
			}
			
			@keyframes bounceInDown {
				0%,
				60%,
				75%,
				90%,
				100% {
					-webkit-transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
					transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
				}
				0% {
					opacity: 0;
					-webkit-transform: translate3d(0, 100%, 0);
					transform: translate3d(0, 100%, 0);
				}
				60% {
					opacity: 1;
					-webkit-transform: translate3d(0, 25px, 0);
					transform: translate3d(0, 25px, 0);
				}
				75% {
					-webkit-transform: translate3d(0, -10px, 0);
					transform: translate3d(0, -10px, 0);
				}
				90% {
					-webkit-transform: translate3d(0, 5px, 0);
					transform: translate3d(0, 5px, 0);
				}
				100% {
					-webkit-transform: none;
					transform: none;
				}
			}
			
			.bounce-in-down {
				-webkit-animation-name: bounceInDown;
				animation-name: bounceInDown;
			}
			
			@-webkit-keyframes fadeInDown {
				0%,
				60%,
				75%,
				90%,
				100% {
					-webkit-transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
					transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
				}
				0% {
					opacity: 0;
					-webkit-transform: translate3d(0, 100%, 0);
					transform: translate3d(0, 100%, 0);
				}
				60% {
					opacity: 1;
					-webkit-transform: translate3d(0, 0px, 0);
					transform: translate3d(0, 0px, 0);
				}
				75% {
					-webkit-transform: translate3d(0, 0px, 0);
					transform: translate3d(0, 0px, 0);
				}
				90% {
					-webkit-transform: translate3d(0, 0px, 0);
					transform: translate3d(0, 0px, 0);
				}
				100% {
					-webkit-transform: none;
					transform: none;
				}
			}
			
			@keyframes fadeInDown {
				0%,
				60%,
				75%,
				90%,
				100% {
					-webkit-transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
					transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
				}
				0% {
					opacity: 0;
					-webkit-transform: translate3d(0, 100%, 0);
					transform: translate3d(0, 100%, 0);
				}
				60% {
					opacity: 1;
					-webkit-transform: translate3d(0, 0px, 0);
					transform: translate3d(0, 0px, 0);
				}
				75% {
					-webkit-transform: translate3d(0, 0px, 0);
					transform: translate3d(0, 0px, 0);
				}
				90% {
					-webkit-transform: translate3d(0, 0px, 0);
					transform: translate3d(0, 0px, 0);
				}
				100% {
					-webkit-transform: none;
					transform: none;
				}
			}
			
			.fade-in-down {
				-webkit-animation-name: fadeInDown;
				animation-name: fadeInDown;
			}
			
			@-webkit-keyframes bounceOutUp {
				20% {
					-webkit-transform: translate3d(0, -10px, 0);
					transform: translate3d(0, -10px, 0);
				}
				40%,
				45% {
					opacity: 1;
					-webkit-transform: translate3d(0, 20px, 0);
					transform: translate3d(0, 20px, 0);
				}
				100% {
					opacity: 0;
					-webkit-transform: translate3d(0, 100%, 0);
					transform: translate3d(0, 100%, 0);
				}
			}
			
			@keyframes bounceOutUp {
				20% {
					-webkit-transform: translate3d(0, -10px, 0);
					transform: translate3d(0, -10px, 0);
				}
				40%,
				45% {
					opacity: 1;
					-webkit-transform: translate3d(0, 20px, 0);
					transform: translate3d(0, 20px, 0);
				}
				100% {
					opacity: 0;
					-webkit-transform: translate3d(0, 100%, 0);
					transform: translate3d(0, 100%, 0);
				}
			}
			
			.bounce-out-up {
				-webkit-animation-name: bounceOutUp;
				animation-name: bounceOutUp;
			}
			
			@-webkit-keyframes fadeOutUp {
				20% {
					-webkit-transform: translate3d(0, 0px, 0);
					transform: translate3d(0, 0px, 0);
				}
				40%,
				45% {
					opacity: 1;
					-webkit-transform: translate3d(0, 0px, 0);
					transform: translate3d(0, 0px, 0);
				}
				100% {
					opacity: 0;
					-webkit-transform: translate3d(0, 100%, 0);
					transform: translate3d(0, 100%, 0);
				}
			}
			
			@keyframes fadeOutUp {
				20% {
					-webkit-transform: translate3d(0, 0px, 0);
					transform: translate3d(0, 0px, 0);
				}
				40%,
				45% {
					opacity: 1;
					-webkit-transform: translate3d(0, 0px, 0);
					transform: translate3d(0, 0px, 0);
				}
				100% {
					opacity: 0;
					-webkit-transform: translate3d(0, 100%, 0);
					transform: translate3d(0, 100%, 0);
				}
			}
			
			.fade-out-up {
				-webkit-animation-name: fadeOutUp;
				animation-name: fadeOutUp;
			}
			
			.menu-open {
				height: 100%;
				width: 100%;
			}
			
			.menu-open .mui-scroll-wrapper {
				position: absolute;
				bottom: 0;
				left: 0;
				z-index: 1;
				width: 100%;
				overflow: hidden;
				-webkit-backface-visibility: hidden;
			}
			
			.menu-backdrop {
				display: none;
			}
			
			.menu-open .menu-backdrop {
				position: fixed;
				top: 0;
				bottom: 0;
				height: 100%;
				width: 100%;
				display: block;
				z-index: 998;
				background-color: #666;
			}
			
			.menu-wrapper {
				position: fixed;
				bottom: 0;
				left: 0;
				right: 0;
				z-index: 999;
				text-align: left;
				background-color: #FFFFFF;
				width: 100%;
			}
			
			.menu-wrapper.hidden {
				-webkit-transform: translate3d(0, 100%, 0);
				transform: translate3d(0, 100%, 0);
				z-index: -1;
				display: none;
			}
			
			.menu {
				width: 100%;
			}
			
			.menu-wrapper .mui-table-view {
				text-align: left;
			}
			
			.menu-wrapper .mui-table-view:before {
				content: none;
			}
			
			.menu-wrapper.mui-active,
			.menu-wrapper.mui-active .menu {
				-webkit-transform: translate3d(0, 0, 0);
				transform: translate3d(0, 0, 0);
			}
			
			.menu-wrapper a {
				font-size: 14px;
			}
			
			.menu-wrapper .mui-table-view-cell>a:not(.mui-btn) {
				color: #444;
			}
			
			.menu-songName {
				margin: 0px;
				padding: 12px;
			}
			
			.menu-icon {
				position: absolute;
				left: 12px;
				color: #ff3e00;
				font-size: 18px;
			}
			
			.playlistInfo {
				height: 240px;
				width: 100%;
				background: url(images/3.jpg) no-repeat;
				background-attachment: fixed;
				background-size: 100% 100%;
				opacity: 0.6;
			}
			
			.blur {
				filter: url(blur.svg#blur);
				-webkit-filter: blur(8px);
				-moz-filter: blur(8px);
				-ms-filter: blur(8px);
				filter: blur(8px);
				filter: progid: DXImageTransform.Microsoft.Blur(PixelRadius=8, MakeShadow=false);
			}
			
			.playlist-img {
				height: 130px;
				width: 40%;
				min-width: 140px;
				margin-top: 50px;
				margin-left: 15px;
				float: left;
			}
			
			.playlist-txt {
				float: left;
				margin-top: 65px;
				margin-left: 20px;
				width: 40%;
				color: #fff;
			}
			
			.playlist-header-wrap {
				position: absolute;
				top: 0;
				left: 0;
				height: 240px;
				width: 100%;
			}
			
			.playlist-atur {
				margin-top: 20px;
				font-size: 14px;
			}
			
			.playlist-atur img {
				width: 30%;
				border-radius: 50%;
				overflow: hidden;
				vertical-align: middle;
			}
		</style>
	</head>

	<body>
		<div class="mui-content">
			<div class="mui-scroll-wrapper">
				<div class="mui-scroll">
					<div class="playlistInfo blur"></div>
					<div class="playlist-header-wrap">
						<img src="images/0.jpg" class="playlist-img" />
						<div class="playlist-txt">
							深海少女的低声浅唱
							<div class="playlist-atur">
								<img src="images/head-0.jpg" /> 美妙_时光
							</div>
						</div>
					</div>
					<div class="playlist-wrap">
						<ul id="list" class="mui-table-view mui-table-view-chevron">
							<li class="mui-table-view-cell">
								<label class="playlist-index">1</label>
								<a class="mui-navigate-right" data-id='1'>
									<h4>We Are Nerver Ever Getting Show Me The Best Love</h4>
									<p>上海幻乐团-幻想曲拔萃 东方萃梦魂魄妖梦</p>
								</a>
								<i class="iconfont menu-btn">&#xe609;</i>
							</li>
							<li class="mui-table-view-cell">
								<label class="playlist-index">2</label>
								<a class="mui-navigate-right" data-id='2'>
									<h4>accordion（折叠面板）</h4>
									<p>上海幻乐团-幻想曲拔萃 东方萃梦魂魄妖梦</p>
								</a>
								<i class="iconfont menu-btn">&#xe609;</i>
							</li>
							<li class="mui-table-view-cell">
								<label class="playlist-index">3</label>
								<a class="mui-navigate-right" data-id='3'>
									<h4>accordion（折叠面板）</h4>
									<p>上海幻乐团-幻想曲拔萃 东方萃梦魂魄妖梦</p>
								</a>
								<i class="iconfont menu-btn">&#xe609;</i>
							</li>
							<li class="mui-table-view-cell">
								<label class="playlist-index">4</label>
								<a class="mui-navigate-right" href="playlistContent.html">
									<h4>We Are Nerver Ever Getting Show Me The Best Love</h4>
									<p>上海幻乐团-幻想曲拔萃 东方萃梦魂魄妖梦</p>
								</a>
								<i class="iconfont menu-btn">&#xe609;</i>
							</li>
							<li class="mui-table-view-cell">
								<label class="playlist-index">2</label>
								<a class="mui-navigate-right" data-id='2'>
									<h4>accordion（折叠面板）</h4>
									<p>上海幻乐团-幻想曲拔萃 东方萃梦魂魄妖梦</p>
								</a>
								<i class="iconfont menu-btn">&#xe609;</i>
							</li>
							<li class="mui-table-view-cell">
								<label class="playlist-index">3</label>
								<a class="mui-navigate-right" data-id='3'>
									<h4>accordion（折叠面板）</h4>
									<p>上海幻乐团-幻想曲拔萃 东方萃梦魂魄妖梦</p>
								</a>
								<i class="iconfont menu-btn">&#xe609;</i>
							</li>
							<li class="mui-table-view-cell">
								<label class="playlist-index">4</label>
								<a class="mui-navigate-right" href="playlistContent.html">
									<h4>We Are Nerver Ever Getting Show Me The Best Love</h4>
									<p>上海幻乐团-幻想曲拔萃 东方萃梦魂魄妖梦</p>
								</a>
								<i class="iconfont menu-btn">&#xe609;</i>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<div id="menu-wrapper" class="menu-wrapper hidden">
			<div id="menu" class="menu">
				<p class="menu-songName">歌曲: 演员</p>
				<ul class="mui-table-view">
					<li class="mui-table-view-cell">
						<i class="iconfont menu-icon">&#xe60b;</i>
						<a href="javascript:;" data-id='1'>
							下一首播放</a>
					</li>
					<li class="mui-table-view-cell">
						<i class="iconfont menu-icon">&#xe610;</i>
						<a href="javascript:;" data-id='2'>收藏到歌单</a>
					</li>
					<li class="mui-table-view-cell">
						<i class="iconfont menu-icon">&#xe615;</i>
						<a href="javascript:;">下载</a>
					</li>
					<li class="mui-table-view-cell">
						<i class="iconfont menu-icon">&#xe60f;</i>
						<a href="javascript:;">评论(65)</a>
					</li>
					<li class="mui-table-view-cell">
						<i class="iconfont menu-icon">&#xe614;</i>
						<a href="javascript:;">分享</a>
					</li>
					<li class="mui-table-view-cell">
						<i class="iconfont menu-icon">&#xe60c;</i>
						<a href="javascript:;">歌手: 薛之谦</a>
					</li>
					<li class="mui-table-view-cell">
						<i class="iconfont menu-icon">&#xe612;</i>
						<a href="javascript:;">专辑: 绅士</a>
					</li>
				</ul>
			</div>
		</div>
		<div id="menu-backdrop" class="menu-backdrop" style="opacity: 0;"></div>
	</body>
	<script>
		mui.init({
			swipeBack: true //启用右滑关闭功能
		});
		mui('.mui-scroll-wrapper').scroll({
			deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006
		});
		window.onload = function() {
			mui.plusReady(function() {
				var self = plus.webview.currentWebview();
				console.log(self.orderId);
			});
			mui('#list').on('tap', 'a', function(e) {
				console.log(this);
				mui.openWindow({
					url: "player.html",
					id: "player",
					extras: {
						songId: this.getAttribute("data-id")
					},
					createNew: true, //是否重复创建同样id的webview，默认为false:不重复创建，直接显示
					show: {
						autoShow: true, //页面loaded事件发生后自动显示，默认为true
						aniShow: "slide-in-right", //页面显示动画，默认为”slide-in-right“；
						duration: 150 //页面动画持续时间，Android平台默认100毫秒，iOS平台默认200毫秒；
					},
					waiting: {
						autoShow: true, //自动显示等待框，默认为true
						title: '正在加载...' //等待对话框上显示的提示内容
					}
				})
			});
		}
		var menuWrapper = document.getElementById("menu-wrapper");
		var menu = document.getElementById("menu");
		var menuWrapperClassList = menuWrapper.classList;
		var backdrop = document.getElementById("menu-backdrop");
		backdrop.addEventListener('tap', toggleMenu);
		mui('.playlist-wrap').on('tap', '.menu-btn', toggleMenu);
		//下沉菜单中的点击事件
		mui('#menu').on('tap', 'a', function() {
			alert(mui("#menu-backdrop")[0].offsetHeight);
		});
		var busying = false;

		function toggleMenu() {
			if (busying) {
				return;
			}
			busying = true;
			if (menuWrapperClassList.contains('mui-active')) {
				document.body.classList.remove('menu-open');
				menuWrapper.className = 'menu-wrapper fade-out-up animated';
				menu.className = 'menu bounce-out-up animated';
				setTimeout(function() {
					backdrop.style.opacity = 0;
					menuWrapper.classList.add('hidden');
				}, 500);
			} else {
				document.body.classList.add('menu-open');
				menuWrapper.className = 'menu-wrapper fade-in-down animated mui-active';
				menu.className = 'menu bounce-in-down animated';
				backdrop.style.opacity = 0.5;
			}
			setTimeout(function() {
				busying = false;
			}, 500);
		}
	</script>

</html>